

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Help, Usage, and Version Commands &mdash; Naked 0.1.30 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Naked 0.1.30 documentation" href="index.html"/>
        <link rel="next" title="Command Line Parser" href="command_line_parser.html"/>
        <link rel="prev" title="Naked Project Structure" href="naked_project_structure.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Naked
          

          
          </a>

          
            
            
              <div class="version">
                0.1.30
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="resources.html">Naked Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">QuickStart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="executable.html">Naked Executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="naked_project_structure.html">Naked Project Structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Help, Usage, and Version Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#implementation-of-commands-in-a-naked-project">Implementation of Commands in a Naked Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#help">Help</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#version">Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-set-your-help-text">How to Set Your Help Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-set-your-usage-text">How to Set Your Usage Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-set-your-version-text">How to Set Your Version Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-remove-the-help-version-usage-commands">How to Remove the Help, Version, &amp; Usage Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command_line_parser.html">Command Line Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_overview.html">The Toolshed Library Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_benchmarking.html">Toolshed: <code class="docutils literal"><span class="pre">benchmarking</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_file.html">Toolshed: <code class="docutils literal"><span class="pre">file</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_ink.html">Toolshed: <code class="docutils literal"><span class="pre">ink</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_network.html">Toolshed: <code class="docutils literal"><span class="pre">network</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_python.html">Toolshed: <code class="docutils literal"><span class="pre">python</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_shell.html">Toolshed: <code class="docutils literal"><span class="pre">shell</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_state.html">Toolshed: <code class="docutils literal"><span class="pre">state</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_system.html">Toolshed: <code class="docutils literal"><span class="pre">system</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_nakedobject.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">NakedObject</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xdict.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XDict</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xlist.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XList</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xmaxheap.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XMaxHeap</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xminheap.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XMinHeap</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Naked</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Help, Usage, and Version Commands</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/help_usage_version.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="help-usage-and-version-commands">
<h1>Help, Usage, and Version Commands<a class="headerlink" href="#help-usage-and-version-commands" title="Permalink to this headline">¶</a></h1>
<div class="section" id="implementation-of-commands-in-a-naked-project">
<h2>Implementation of Commands in a Naked Project<a class="headerlink" href="#implementation-of-commands-in-a-naked-project" title="Permalink to this headline">¶</a></h2>
<p>When you create a new Naked project with the <code class="docutils literal"><span class="pre">naked</span> <span class="pre">make</span></code> command, the command line parsing logic for help, usage, and version information requests is implemented for you.  This allows users to request this information from your application with any of the following:</p>
<div class="section" id="help">
<h3>Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; -h
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; --help
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">executable</span><span class="o">&gt;</span> <span class="n">help</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; --usage
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; usage
</pre></div>
</div>
</div>
<div class="section" id="version">
<h3>Version<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; -v
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; --version
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>&lt;executable&gt; version
</pre></div>
</div>
</div>
</div>
<div class="section" id="how-to-set-your-help-text">
<h2>How to Set Your Help Text<a class="headerlink" href="#how-to-set-your-help-text" title="Permalink to this headline">¶</a></h2>
<p>The help text is assigned to the <code class="docutils literal"><span class="pre">help</span></code> variable in the <code class="docutils literal"><span class="pre">PROJECT/lib/PROJECT/settings.py</span></code> file.  Modify this string and save the file. It will be published to the standard output stream for users when they request application help with the above syntax.</p>
<p>Here is an example that includes the initial part of the <code class="docutils literal"><span class="pre">naked</span></code> executable help text (<a class="reference external" href="https://github.com/chrissimpkins/naked/blob/master/lib/Naked/settings.py">full version of file</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">help</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">---------------------------------------------------</span>
<span class="s"> Naked</span>
<span class="s"> A Python command line application framework</span>
<span class="s"> Copyright 2014 Christopher Simpkins</span>
<span class="s"> MIT license</span>
<span class="s">---------------------------------------------------</span>

<span class="s">ABOUT</span>

<span class="s">The Naked framework includes the &quot;naked&quot; executable and the Python toolshed library.  The naked executable is a command line tool for application development, testing, profiling, and deployment.  The toolshed library contains numerous useful tools for application development that can be used through standard Python module imports.  These features are detailed in the documentation (link below).</span>

<span class="s">USAGE</span>

<span class="s">The naked executable syntax is:</span>

<span class="s">  naked &lt;primary command&gt; [secondary command] [option(s)] [argument(s)]</span>

<span class="s"># more...</span>
<span class="s">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Note the triple quote format that allows you to write multi-line strings in Python.</p>
</div>
<div class="section" id="how-to-set-your-usage-text">
<h2>How to Set Your Usage Text<a class="headerlink" href="#how-to-set-your-usage-text" title="Permalink to this headline">¶</a></h2>
<p>The usage text is assigned to the <code class="docutils literal"><span class="pre">usage</span></code> variable in the <code class="docutils literal"><span class="pre">PROJECT/lib/PROJECT/settings.py</span></code> file.  Modify this string and save the file.  It will be published to the standard output stream for users when they request application usage help with the above syntax.</p>
<p>Here is an example of the string from the <code class="docutils literal"><span class="pre">naked</span></code> executable (<a class="reference external" href="https://github.com/chrissimpkins/naked/blob/master/lib/Naked/settings.py">full version of file</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">usage</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">Usage: naked &lt;primary command&gt; [secondary command] [option(s)] [argument(s)]</span>
<span class="s">--- Use &#39;naked help&#39; for detailed help ---</span>
<span class="s">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="how-to-set-your-version-text">
<h2>How to Set Your Version Text<a class="headerlink" href="#how-to-set-your-version-text" title="Permalink to this headline">¶</a></h2>
<p>The version text is a concatenated string that is made from the <code class="docutils literal"><span class="pre">major_version</span></code>, <code class="docutils literal"><span class="pre">minor_version</span></code>, and <code class="docutils literal"><span class="pre">patch_version</span></code> strings in the <code class="docutils literal"><span class="pre">PROJECT/lib/PROJECT/settings.py</span></code> file.  These should be set as Python strings by placing quotes around the numerals.</p>
<p>The <code class="docutils literal"><span class="pre">settings.py</span></code> version variables should look like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Version Number</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="n">major_version</span> <span class="o">=</span> <span class="s">&quot;0&quot;</span>
<span class="n">minor_version</span> <span class="o">=</span> <span class="s">&quot;1&quot;</span>
<span class="n">patch_version</span> <span class="o">=</span> <span class="s">&quot;0&quot;</span>
</pre></div>
</div>
<p>By default, the version text for an application named &#8216;testapp&#8217; is displayed like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>testapp --version
  testapp 0.1.0
</pre></div>
</div>
<p>As you increment your version numbers with new releases, the new version will be displayed when a user requests it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The version number settings in the settings.py file are imported into your setup.py file on new installs and releases to PyPI with the <code class="docutils literal"><span class="pre">naked</span> <span class="pre">dist</span></code> commands.  Make sure that they are correct for your release if you intend to use these features.</p>
</div>
<p>You can modify the displayed string format in this block of your app.py file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">elif</span> <span class="n">c</span><span class="o">.</span><span class="n">version</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">PROJECT.settings</span> <span class="kn">import</span> <span class="n">app_name</span><span class="p">,</span> <span class="n">major_version</span><span class="p">,</span> <span class="n">minor_version</span><span class="p">,</span> <span class="n">patch_version</span>
    <span class="c"># ** modify the string below to change the version text that is displayed to the user **</span>
    <span class="n">version_display_string</span> <span class="o">=</span> <span class="n">app_name</span> <span class="o">+</span> <span class="s">&#39; &#39;</span> <span class="o">+</span> <span class="n">major_version</span> <span class="o">+</span> <span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="n">minor_version</span> <span class="o">+</span> <span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="n">patch_version</span>
    <span class="k">print</span><span class="p">(</span><span class="n">version_display_string</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>For example, to remove the display of a patch version altogether, change the <code class="docutils literal"><span class="pre">version_display_string</span></code> assignment to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">version_display_string</span> <span class="o">=</span> <span class="n">app_name</span> <span class="o">+</span> <span class="s">&#39; &#39;</span> <span class="o">+</span> <span class="n">major_version</span> <span class="o">+</span> <span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="n">minor_version</span>
</pre></div>
</div>
</div>
<div class="section" id="how-to-remove-the-help-version-usage-commands">
<h2>How to Remove the Help, Version, &amp; Usage Commands<a class="headerlink" href="#how-to-remove-the-help-version-usage-commands" title="Permalink to this headline">¶</a></h2>
<p>These commands are completely optional and are implemented as a convenience.  The parsing logic and standard output writes are removed by either commenting out or deleting the following blocks of code in your <code class="docutils literal"><span class="pre">app.py</span></code> file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">help</span><span class="p">():</span>
    <span class="kn">from</span> <span class="p">{{</span><span class="n">app_name</span><span class="p">}}</span><span class="o">.</span><span class="n">settings</span> <span class="kn">import</span> <span class="nn">help</span> <span class="kn">as</span> <span class="p">{{</span><span class="n">app_name</span><span class="p">}}</span><span class="n">_help</span>
    <span class="k">print</span><span class="p">({{</span><span class="n">app_name</span><span class="p">}}</span><span class="n">_help</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">c</span><span class="o">.</span><span class="n">usage</span><span class="p">():</span>
    <span class="kn">from</span> <span class="p">{{</span><span class="n">app_name</span><span class="p">}}</span><span class="o">.</span><span class="n">settings</span> <span class="kn">import</span> <span class="nn">usage</span> <span class="kn">as</span> <span class="p">{{</span><span class="n">app_name</span><span class="p">}}</span><span class="n">_usage</span>
    <span class="k">print</span><span class="p">({{</span><span class="n">app_name</span><span class="p">}}</span><span class="n">_usage</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">c</span><span class="o">.</span><span class="n">version</span><span class="p">():</span>
    <span class="kn">from</span> <span class="p">{{</span><span class="n">app_name</span><span class="p">}}</span><span class="o">.</span><span class="n">settings</span> <span class="kn">import</span> <span class="nn">app_name</span><span class="o">,</span> <span class="nn">major_version</span><span class="o">,</span> <span class="nn">minor_version</span><span class="o">,</span> <span class="nn">patch_version</span>
    <span class="n">version_display_string</span> <span class="o">=</span> <span class="n">app_name</span> <span class="o">+</span> <span class="s">&#39; &#39;</span> <span class="o">+</span> <span class="n">major_version</span> <span class="o">+</span> <span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="n">minor_version</span> <span class="o">+</span> <span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="n">patch_version</span>
    <span class="k">print</span><span class="p">(</span><span class="n">version_display_string</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>In your project, the <code class="docutils literal"><span class="pre">{{app_name}}</span></code> template strings are replaced with your application name.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Since these code blocks are placed above your command logic, make sure that you change your first &#8216;elif&#8217; to an &#8216;if&#8217; statement if you have already started development below this level.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="command_line_parser.html" class="btn btn-neutral float-right" title="Command Line Parser" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="naked_project_structure.html" class="btn btn-neutral" title="Naked Project Structure" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Christopher Simpkins. CC BY-SA 4.0 license.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.30',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>