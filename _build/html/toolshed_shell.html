

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Toolshed: shell &mdash; Naked 0.1.30 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Naked 0.1.30 documentation" href="index.html"/>
        <link rel="next" title="Toolshed: state" href="toolshed_state.html"/>
        <link rel="prev" title="Toolshed: python" href="toolshed_python.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Naked
          

          
          </a>

          
            
            
              <div class="version">
                0.1.30
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="resources.html">Naked Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">QuickStart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="executable.html">Naked Executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="naked_project_structure.html">Naked Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="help_usage_version.html">Help, Usage, and Version Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_line_parser.html">Command Line Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_overview.html">The Toolshed Library Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_benchmarking.html">Toolshed: <code class="docutils literal"><span class="pre">benchmarking</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_file.html">Toolshed: <code class="docutils literal"><span class="pre">file</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_ink.html">Toolshed: <code class="docutils literal"><span class="pre">ink</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_network.html">Toolshed: <code class="docutils literal"><span class="pre">network</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_python.html">Toolshed: <code class="docutils literal"><span class="pre">python</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Toolshed: <code class="docutils literal"><span class="pre">shell</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#import-shell-module">Import Shell Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#import-shell-c-module">Import Shell C Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions-for-the-execution-of-system-commands">Functions for the Execution of System Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#javascript-node-js-execution-functions">JavaScript (Node.js) Execution Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ruby-script-execution-functions">Ruby Script Execution Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell-command-execution-function-examples">Shell Command Execution Function Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment-class">Environment Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment-examples">Environment Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_state.html">Toolshed: <code class="docutils literal"><span class="pre">state</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_system.html">Toolshed: <code class="docutils literal"><span class="pre">system</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_nakedobject.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">NakedObject</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xdict.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XDict</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xlist.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XList</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xmaxheap.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XMaxHeap</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="toolshed_types_xminheap.html">Toolshed: <code class="docutils literal"><span class="pre">types</span></code> : <code class="docutils literal"><span class="pre">XMinHeap</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Naked</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Toolshed: <code class="docutils literal"><span class="pre">shell</span></code></li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/toolshed_shell.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-Naked.toolshed.shell">
<span id="toolshed-shell"></span><h1>Toolshed: <code class="docutils literal"><span class="pre">shell</span></code><a class="headerlink" href="#module-Naked.toolshed.shell" title="Permalink to this headline">¶</a></h1>
<div class="section" id="import-shell-module">
<h2>Import Shell Module<a class="headerlink" href="#import-shell-module" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Naked.toolshed.shell</span>
</pre></div>
</div>
</div>
<div class="section" id="import-shell-c-module">
<h2>Import Shell C Module<a class="headerlink" href="#import-shell-c-module" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Naked.toolshed.c.shell</span>
</pre></div>
</div>
<p>The C module must be compiled before you import it.  See the <a class="reference external" href="http://docs.naked-py.com/executable.html#the-build-command">naked build</a> documentation for more information.</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">shell</span></code> module includes functions for the execution of system executables and scripts, and the <a class="reference internal" href="#Naked.toolshed.shell.Environment" title="Naked.toolshed.shell.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> class for access to shell environment variables.</p>
</div>
<div class="section" id="functions-for-the-execution-of-system-commands">
<h2>Functions for the Execution of System Commands<a class="headerlink" href="#functions-for-the-execution-of-system-commands" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Naked.toolshed.shell.execute">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">execute</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">execute</span></code> function runs a shell command as a new process with the Python method <code class="docutils literal"><span class="pre">subprocess.call()</span></code>.  The standard output or standard error stream data are displayed in the terminal immediately and <strong>are not</strong> returned to the calling function/method, rather the success or failure of the command execution is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>command</strong> (<em>string</em>) &#8211; the complete command that is to be executed by the shell</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(boolean) Defined as True = zero exit status code, False = non-zero exit status code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Naked.toolshed.shell.muterun">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">muterun</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.muterun" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">muterun</span></code> function runs a shell command as a new process with the Python method <code class="docutils literal"><span class="pre">subprocess.check_output()</span></code>.  There is no display of data in the terminal from the standard output or standard error streams of the executed command.  Instead, the content of these streams is returned to the calling code as a generic <code class="docutils literal"><span class="pre">NakedObject</span></code> with the standard output stream data, standard error stream data, and exit code mapped to the attributes <code class="docutils literal"><span class="pre">NakedObject.stdout</span></code>, <code class="docutils literal"><span class="pre">NakedObject.stderr</span></code>, and <code class="docutils literal"><span class="pre">NakedObject.exitcode</span></code>, respectively.  These can be accessed with standard Python dot syntax and handled in your own code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>command</strong> (<em>string</em>) &#8211; the complete command that is to be executed by the shell</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">NakedObject<dl class="attribute">
<dt id="Naked.toolshed.shell.NakedObject.stdout">
<code class="descclassname">NakedObject.</code><code class="descname">stdout</code><a class="headerlink" href="#Naked.toolshed.shell.NakedObject.stdout" title="Permalink to this definition">¶</a></dt>
<dd><p>(bytes string) The <code class="docutils literal"><span class="pre">stdout</span></code> attribute of the returned NakedObject contains the standard output stream data on success and an empty bytes string on failure of the executed command.</p>
</dd></dl>

<dl class="attribute">
<dt id="Naked.toolshed.shell.NakedObject.stderr">
<code class="descclassname">NakedObject.</code><code class="descname">stderr</code><a class="headerlink" href="#Naked.toolshed.shell.NakedObject.stderr" title="Permalink to this definition">¶</a></dt>
<dd><p>(bytes string) The <code class="docutils literal"><span class="pre">stderr</span></code> attribute of the returned NakedObject contains the standard error stream data on failure and an empty bytes string on success of the executed command</p>
</dd></dl>

<dl class="attribute">
<dt id="Naked.toolshed.shell.NakedObject.exitcode">
<code class="descclassname">NakedObject.</code><code class="descname">exitcode</code><a class="headerlink" href="#Naked.toolshed.shell.NakedObject.exitcode" title="Permalink to this definition">¶</a></dt>
<dd><p>(integer) The <code class="docutils literal"><span class="pre">exitcode</span></code> attribute of the returned NakedObject contains the exit status code that is returned from the executed command.  This can be used to test for the success or failure of the command.  See examples below.</p>
</dd></dl>

</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Naked.toolshed.shell.run">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">run</code><span class="sig-paren">(</span><em>command</em>, <em>suppress_stdout=False</em>, <em>suppress_stderr=False</em>, <em>suppress_exit_status_call=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">run</span></code> function provides a flexible approach to the execution of a shell command.  As with the <code class="docutils literal"><span class="pre">execute()</span></code> and <code class="docutils literal"><span class="pre">muterun()</span></code> functions, a complete command string is provided as the first parameter to the function.  It differs from the other functions in that there are options to suppress prints of standard output and standard error streams prints to the terminal by the executed command, and to suppress the raise of a <code class="docutils literal"><span class="pre">SystemExit</span></code> on return of a non-zero exit status code from the executed command (or from the shell if the executable was absent).  You can use different permutations of these parameter settings to determine how much of the executable output is displayed to the user.  Furthermore, you can permit the executable to return a non-zero exit status code which will terminate execution of your Python script.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> (<em>string</em>) &#8211; the complete command that is to be executed by the shell</li>
<li><strong>suppress_stdout</strong> (<em>boolean</em>) &#8211; <em>optional</em>, suppress print of standard output to the terminal (default = False)</li>
<li><strong>suppress_stderr</strong> (<em>boolean</em>) &#8211; <em>optional</em>, suppress print of standard error to the terminal (default = False)</li>
<li><strong>suppress_exit_status_call</strong> (<em>boolean</em>) &#8211; <em>optional</em>, suppress raise of SystemExit for non-zero exit status codes from the executed command (default = True). When set to True, your Python script is able to continue execution despite failure of the shell command.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(bytes string or boolean) returns string containing standard output stream data on command execution success (irrespective of <code class="docutils literal"><span class="pre">suppress_stdout</span></code> setting), False on non-zero exit status code returned by the shell command (irrespective of the <code class="docutils literal"><span class="pre">suppress_stderr</span></code> setting).  The <code class="docutils literal"><span class="pre">suppress_&lt;stream&gt;</span></code> settings only affect the diplay of these data streams in the user&#8217;s terminal.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="javascript-node-js-execution-functions">
<h2>JavaScript (Node.js) Execution Functions<a class="headerlink" href="#javascript-node-js-execution-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Naked.toolshed.shell.execute_js">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">execute_js</code><span class="sig-paren">(</span><em>file_path</em>, <em>arguments=&quot;&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.execute_js" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">execute_js()</span></code> function runs the <a class="reference internal" href="#Naked.toolshed.shell.execute" title="Naked.toolshed.shell.execute"><code class="xref py py-func docutils literal"><span class="pre">execute()</span></code></a> function on a Node.js script file.  Instead of passing the command to be executed as the first parameter, pass a Node.js script filepath as the first parameter and any additional command arguments as the second parameter (<em>optional</em>).  The executed command is concatenated from these strings with the following code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">js_command</span> <span class="o">=</span> <span class="s">&#39;node &#39;</span> <span class="o">+</span> <span class="n">file_path</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">arguments</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">js_command</span> <span class="o">=</span> <span class="s">&#39;node &#39;</span> <span class="o">+</span> <span class="n">file_path</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string</em>) &#8211; the filepath to the Node.js script that is to be executed by the shell</li>
<li><strong>arguments</strong> (<em>string</em>) &#8211; <em>optional</em>, any additional arguments to be used with your command as demonstrated above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Naked.toolshed.shell.muterun_js">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">muterun_js</code><span class="sig-paren">(</span><em>file_path</em>, <em>arguments=&quot;&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.muterun_js" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">muterun_js()</span></code> function runs the <a class="reference internal" href="#Naked.toolshed.shell.muterun" title="Naked.toolshed.shell.muterun"><code class="xref py py-func docutils literal"><span class="pre">muterun()</span></code></a> function on a Node.js script file.  Instead of passing the command to be executed as the first parameter, pass a Node.js script filepath as the first parameter and any additional command arguments as the second parameter (<em>optional</em>).  The executed command is concatenated from these strings as demonstrated in the <a class="reference internal" href="#Naked.toolshed.shell.execute_js" title="Naked.toolshed.shell.execute_js"><code class="xref py py-func docutils literal"><span class="pre">execute_js()</span></code></a> function description above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string</em>) &#8211; the filepath to the Node.js script that is to be executed by the shell</li>
<li><strong>arguments</strong> (<em>string</em>) &#8211; <em>optional</em>, any additional arguments to be used with your command as demonstrated above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Naked.toolshed.shell.run_js">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">run_js</code><span class="sig-paren">(</span><em>file_path</em>, <em>arguments=&quot;&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.run_js" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">run_js()</span></code> function runs the <a class="reference internal" href="#Naked.toolshed.shell.run" title="Naked.toolshed.shell.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a> function on a Node.js script file.  Instead of passing the command to be executed as the first parameter, pass a Node.js script filepath as the first parameter and any additional command arguments as the second parameter (<em>optional</em>).  The executed command is concatenated from these strings as demonstrated in the <a class="reference internal" href="#Naked.toolshed.shell.execute_js" title="Naked.toolshed.shell.execute_js"><code class="xref py py-func docutils literal"><span class="pre">execute_js()</span></code></a> function description above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string</em>) &#8211; the filepath to the Node.js script that is to be executed by the shell</li>
<li><strong>arguments</strong> (<em>string</em>) &#8211; <em>optional</em>, any additional arguments to be used with your command as demonstrated above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="ruby-script-execution-functions">
<h2>Ruby Script Execution Functions<a class="headerlink" href="#ruby-script-execution-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Naked.toolshed.shell.execute_rb">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">execute_rb</code><span class="sig-paren">(</span><em>file_path</em>, <em>arguments=&quot;&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.execute_rb" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">execute_rb()</span></code> function runs the <a class="reference internal" href="#Naked.toolshed.shell.execute" title="Naked.toolshed.shell.execute"><code class="xref py py-func docutils literal"><span class="pre">execute()</span></code></a> function on a Ruby script file.  Instead of passing the command to be executed as the first parameter, pass a Ruby script filepath as the first parameter and any additional command arguments as the second parameter (<em>optional</em>).  The executed command is concatenated from these strings with the following code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">rb_command</span> <span class="o">=</span> <span class="s">&#39;ruby &#39;</span> <span class="o">+</span> <span class="n">file_path</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">arguments</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">rb_command</span> <span class="o">=</span> <span class="s">&#39;ruby &#39;</span> <span class="o">+</span> <span class="n">file_path</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string</em>) &#8211; the filepath to the Ruby script that is to be executed by the shell</li>
<li><strong>arguments</strong> (<em>string</em>) &#8211; <em>optional</em>, any additional arguments to be used with your command as demonstrated above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Naked.toolshed.shell.muterun_rb">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">muterun_rb</code><span class="sig-paren">(</span><em>file_path</em>, <em>arguments=&quot;&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.muterun_rb" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">muterun_js()</span></code> function runs the <a class="reference internal" href="#Naked.toolshed.shell.muterun" title="Naked.toolshed.shell.muterun"><code class="xref py py-func docutils literal"><span class="pre">muterun()</span></code></a> function on a Ruby script file.  Instead of passing the command to be executed as the first parameter, pass a Ruby script filepath as the first parameter and any additional command arguments as the second parameter (<em>optional</em>).  The executed command is concatenated from these strings as demonstrated in the <a class="reference internal" href="#Naked.toolshed.shell.execute_rb" title="Naked.toolshed.shell.execute_rb"><code class="xref py py-func docutils literal"><span class="pre">execute_rb()</span></code></a> function description above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string</em>) &#8211; the filepath to the Ruby script that is to be executed by the shell</li>
<li><strong>arguments</strong> (<em>string</em>) &#8211; <em>optional</em>, any additional arguments to be used with your command as demonstrated above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Naked.toolshed.shell.run_rb">
<code class="descclassname">Naked.toolshed.shell.</code><code class="descname">run_rb</code><span class="sig-paren">(</span><em>file_path</em>, <em>arguments=&quot;&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.run_rb" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">run_rb()</span></code> function runs the <a class="reference internal" href="#Naked.toolshed.shell.run" title="Naked.toolshed.shell.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a> function on a Ruby script file.  Instead of passing the command to be executed as the first parameter, pass a Ruby script filepath as the first parameter and any additional command arguments as the second parameter (<em>optional</em>).  The executed command is concatenated from these strings as demonstrated in the <a class="reference internal" href="#Naked.toolshed.shell.execute_rb" title="Naked.toolshed.shell.execute_rb"><code class="xref py py-func docutils literal"><span class="pre">execute_rb()</span></code></a> function description above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string</em>) &#8211; the filepath to the Ruby script that is to be executed by the shell</li>
<li><strong>arguments</strong> (<em>string</em>) &#8211; <em>optional</em>, any additional arguments to be used with your command as demonstrated above.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="shell-command-execution-function-examples">
<h2>Shell Command Execution Function Examples<a class="headerlink" href="#shell-command-execution-function-examples" title="Permalink to this headline">¶</a></h2>
<p><strong>execute() Shell Command</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">execute</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="s">&#39;curl https://raw.github.com/chrissimpkins/naked/master/README.md&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the command was successful</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the command failed or the executable was not present)</span>
</pre></div>
</div>
<p><strong>muterun() Shell Command</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">muterun</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">muterun</span><span class="p">(</span><span class="s">&#39;curl https://raw.github.com/chrissimpkins/naked/master/README.md&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">exitcode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c"># the command was successful, handle the standard output</span>
    <span class="n">standard_out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">stdout</span>
    <span class="k">print</span><span class="p">(</span><span class="n">standard_out</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the command failed or the executable was not present, handle the standard error</span>
    <span class="n">standard_err</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">stderr</span>
    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">exitcode</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Exit Status &#39;</span> <span class="o">+</span> <span class="n">exit_code</span> <span class="o">+</span> <span class="s">&#39;: &#39;</span> <span class="o">+</span> <span class="n">standard_err</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>run() Shell Command, Default</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">run</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="s">&#39;curl https://raw.github.com/chrissimpkins/naked/master/README.md&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the command was successful, automatically prints to standard output</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the command failed or the executable was not present, automatically prints to standard error</span>
</pre></div>
</div>
<p><strong>run() Shell Command, Suppress Standard Output and Standard Error</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">run</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="s">&#39;curl https://raw.github.com/chrissimpkins/naked/master/README.md&#39;</span><span class="p">,</span> <span class="n">suppress_stdout</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">suppress_stderr</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the command was successful, success contains the data from standard output.</span>
    <span class="c"># standard output is not printed to terminal</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the command failed or the executable was not present, success contains False</span>
    <span class="c"># standard error is not printed to terminal</span>
</pre></div>
</div>
<p><strong>run() Shell Command, Permit SystemExit on Failure</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">run</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="s">&#39;curl http://bogussite.io&#39;</span><span class="p">,</span> <span class="n">suppress_exit_status_call</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># if the command was successful, this block is executed</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># this command fails (non-existent site), print to standard error and raise SystemExit with non-zero exit status code</span>
</pre></div>
</div>
<p><strong>execute_rb() a Ruby Script</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">execute_rb</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">execute_rb</span><span class="p">(</span><span class="s">&#39;testscript.rb&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the script run was successful, the standard output was automatically printed to terminal</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the script run failed, the standard error was automatically printed to terminal</span>
</pre></div>
</div>
<p><strong>muterun_rb() a Ruby Script</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">muterun_rb</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">muterun_rb</span><span class="p">(</span><span class="s">&#39;testscript.rb&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">exitcode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c"># the command was successful, handle the standard output</span>
    <span class="n">standard_out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">stdout</span>
    <span class="k">print</span><span class="p">(</span><span class="n">standard_out</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the command failed or the executable was not present, handle the standard error</span>
    <span class="n">standard_err</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">stderr</span>
    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">exitcode</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Exit Status &#39;</span> <span class="o">+</span> <span class="n">exit_code</span> <span class="o">+</span> <span class="s">&#39;: &#39;</span> <span class="o">+</span> <span class="n">standard_err</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>run_rb() a Ruby Script</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">run_rb</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">run_rb</span><span class="p">(</span><span class="s">&#39;testscript.rb&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the script run was successful, standard output automatically printed to terminal by default</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the script run failed, standard error automatically printed to terminal by default</span>
    <span class="c"># does not raise SystemExit by default</span>
</pre></div>
</div>
<p><strong>execute_js() a JavaScript (Node.js) Script</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">execute_js</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">execute_js</span><span class="p">(</span><span class="s">&#39;testscript.js&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the script run was successful, the standard output was automatically printed to terminal</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the script run failed, the standard error was automatically printed to terminal</span>
</pre></div>
</div>
<p><strong>muterun_js() a JavaScript (Node.js) Script</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">muterun_js</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">muterun_js</span><span class="p">(</span><span class="s">&#39;testscript.js&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">exitcode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="c"># the command was successful, handle the standard output</span>
    <span class="n">standard_out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">stdout</span>
    <span class="k">print</span><span class="p">(</span><span class="n">standard_out</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the command failed or the executable was not present, handle the standard error</span>
    <span class="n">standard_err</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">stderr</span>
    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">exitcode</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Exit Status &#39;</span> <span class="o">+</span> <span class="n">exit_code</span> <span class="o">+</span> <span class="s">&#39;: &#39;</span> <span class="o">+</span> <span class="n">standard_err</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>run_js() a JavaScript (Node.js) Script</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">run_js</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">run_js</span><span class="p">(</span><span class="s">&#39;testscript.js&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="c"># the script run was successful, standard output automatically printed to terminal by default</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the script run failed, standard error automatically printed to terminal by default</span>
    <span class="c"># does not raise SystemExit by default</span>
</pre></div>
</div>
</div>
<div class="section" id="environment-class">
<h2>Environment Class<a class="headerlink" href="#environment-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Naked.toolshed.shell.Environment">
<em class="property">class </em><code class="descclassname">Naked.toolshed.shell.</code><code class="descname">Environment</code><a class="headerlink" href="#Naked.toolshed.shell.Environment" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">Environment</span></code> class contains methods that provide access to shell environment variables.</p>
<dl class="method">
<dt id="Naked.toolshed.shell.Environment.is_var">
<code class="descname">is_var</code><span class="sig-paren">(</span><em>variable_name</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.Environment.is_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the existence of a shell environment variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>variable_name</strong> (<em>string</em>) &#8211; the name of the test environment variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(<em>boolean</em>) Boolean value for existence of the environment variable</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Naked.toolshed.shell.Environment.get_var">
<code class="descname">get_var</code><span class="sig-paren">(</span><em>variable_name</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.Environment.get_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of a shell environment variable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>variable_name</strong> (<em>string</em>) &#8211; the name of the environment variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(<em>string</em>) Value of the environment variable</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Naked.toolshed.shell.Environment.get_split_var_list">
<code class="descname">get_split_var_list</code><span class="sig-paren">(</span><em>variable_name</em><span class="sig-paren">)</span><a class="headerlink" href="#Naked.toolshed.shell.Environment.get_split_var_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the strings in a shell environment variable assignment list (e.g. PATH).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>variable_name</strong> (<em>string</em>) &#8211; the name of the environment variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(<em>list</em>) returns a list of strings that are split by the OS dependent separator symbol or an empty list if the variable is not present</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="environment-examples">
<h2>Environment Examples<a class="headerlink" href="#environment-examples" title="Permalink to this headline">¶</a></h2>
<p><strong>Create a New Environment Instance</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">Environment</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Test for Environment Variable</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Naked.toolshed.shell</span> <span class="kn">import</span> <span class="n">Environment</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">is_var</span><span class="p">(</span><span class="s">&#39;PATH&#39;</span><span class="p">)):</span>
    <span class="c"># the shell environment variable exists</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># the shell environment variable does not exist</span>
</pre></div>
</div>
<p><strong>Get Value of Environment Variable</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">is_var</span><span class="p">(</span><span class="s">&#39;PATH&#39;</span><span class="p">)):</span>
    <span class="n">path_string</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_var</span><span class="p">(</span><span class="s">&#39;PATH&#39;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">path_string</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Iterate Through List of Environment Variable Strings</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">is_var</span><span class="p">(</span><span class="s">&#39;PATH&#39;</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">get_split_var_list</span><span class="p">(</span><span class="s">&#39;PATH&#39;</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="toolshed_state.html" class="btn btn-neutral float-right" title="Toolshed: state" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="toolshed_python.html" class="btn btn-neutral" title="Toolshed: python" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Christopher Simpkins. CC BY-SA 4.0 license.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.30',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>